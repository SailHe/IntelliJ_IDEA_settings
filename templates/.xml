<templateSet group="自建活动模板">
  <template name="jquery" value="&lt;script type=&quot;text/javascript&quot; src=&quot;lib/jquery-3.2.1.js$reSrc$&quot;&gt;&lt;/script&gt;" description="创建jquery的库引用" toReformat="false" toShortenFQNames="true">
    <variable name="reSrc" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="HTML" value="true" />
      <option name="XML" value="true" />
    </context>
  </template>
  <template name="methodSignature" value="/**&#10; * Descriptions: $descriptions$&lt;p&gt;&#10; * &#10; * @param $Param$&#10; * @return $Return$&#10; * @author SailHe&#10; * @date $Date$ $Time$&#10; */" description="方法签名(内部)" toReformat="false" toShortenFQNames="true">
    <variable name="descriptions" expression="" defaultValue="" alwaysStopAt="true" />
    <variable name="Date" expression="date()" defaultValue="" alwaysStopAt="false" />
    <variable name="Time" expression="time()" defaultValue="" alwaysStopAt="false" />
    <variable name="Return" expression="methodReturnType()" defaultValue="" alwaysStopAt="false" />
    <variable name="Param" expression="methodParameters()" defaultValue="" alwaysStopAt="false" />
    <context>
      <option name="JAVA_CODE" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
      <option name="JSP" value="true" />
    </context>
  </template>
  <template name="uniform" value="/**&#10; * Descriptions: $descriptions$&lt;p&gt;&#10; * &#10; * @author SailHe&#10; * @date $Date$ $Time$&#10; */" description="通用简易注释" toReformat="false" toShortenFQNames="true">
    <variable name="descriptions" expression="" defaultValue="" alwaysStopAt="true" />
    <variable name="Date" expression="date()" defaultValue="" alwaysStopAt="false" />
    <variable name="Time" expression="time()" defaultValue="" alwaysStopAt="false" />
    <context>
      <option name="JAVA_CODE" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
    </context>
  </template>
  <template name="nowTime" value="System.currentTimeMillis()" description="当前时间的Long值" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="JAVA_CODE" value="true" />
    </context>
  </template>
  <template name="onClickEvent" value="$($selector$).on('click', function () {&#10;    const $currentNode = $(this);&#10;    $desc$&#10;});&#10;" description="on函数中 this 是个Dom" toReformat="false" toShortenFQNames="true">
    <variable name="selector" expression="" defaultValue="" alwaysStopAt="true" />
    <variable name="desc" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="HTML" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
      <option name="TypeScript" value="true" />
    </context>
  </template>
  <template name="selectorInput" value="'input[name=$name$]'" description="" toReformat="false" toShortenFQNames="true">
    <variable name="name" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="ECMAScript6" value="true" />
      <option name="HTML" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
      <option name="TypeScript" value="true" />
    </context>
  </template>
  <template name="lambda" value="($par$) =&gt; {&#10;    $desc$&#10;}" description="" toReformat="false" toShortenFQNames="true">
    <variable name="par" expression="" defaultValue="" alwaysStopAt="true" />
    <variable name="desc" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="ECMAScript6" value="true" />
      <option name="HTML" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
      <option name="TypeScript" value="true" />
      <option name="Vue" value="true" />
    </context>
  </template>
  <template name="jpaTemplate" value="Pageable pageable = new PageRequest(pageNum, pageLength, new Sort(Sort.Direction.DESC, &quot;$sortAttribute$&quot;));&#10;List&lt;$primaryKeyType$&gt; $name$IdList = new LinkedList&lt;$primaryKeyType$&gt;();&#10;Specification&lt;$BeanType$&gt; specification = (root, criteriaQuery, criteriaBuilder) -&gt; {&#10;    //过滤条件&#10;    Predicate filter = criteriaBuilder.and(&#10;            root.get(&quot;$name$Id&quot;).in($name$IdList)&#10;            , criteriaBuilder.notEqual(root.get(&quot;$name$&quot;), &quot;idValue&quot;)&#10;    );&#10;    return filter;&#10;};&#10;Page&lt;$BeanType$&gt; page = orderRepository.findAll(specification, pageable);" description="使用jpa的分页, 查询模板" toReformat="false" toShortenFQNames="true">
    <variable name="sortAttribute" expression="" defaultValue="" alwaysStopAt="true" />
    <variable name="primaryKeyType" expression="" defaultValue="" alwaysStopAt="true" />
    <variable name="name" expression="" defaultValue="" alwaysStopAt="true" />
    <variable name="BeanType" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="JAVA_CODE" value="true" />
    </context>
  </template>
  <template name="parameterPage" value="Integer pageNum, Integer pageLength" description="分页参数模板" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="JAVA_CODE" value="true" />
    </context>
  </template>
  <template name="uniform_uh" value="/**&#10; * Descriptions: $descriptions$&lt;p&gt;&#10; * &#10; * @author Unknown||Hidden&#10; * @date $Date$ $Time$&#10; */" description="通用注释作者隐藏或未知版" toReformat="false" toShortenFQNames="true">
    <variable name="descriptions" expression="" defaultValue="" alwaysStopAt="true" />
    <variable name="Date" expression="date()" defaultValue="" alwaysStopAt="false" />
    <variable name="Time" expression="time()" defaultValue="" alwaysStopAt="false" />
    <context>
      <option name="JAVA_CODE" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
    </context>
  </template>
  <template name="edo" value="// else do nothing" description="注释用: else do nothing" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="JAVA_CODE" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
    </context>
  </template>
  <template name="Save" value="boolean isInsert = false;&#10;LoginUser loginUser = SecurityUtils.getLoginUser();&#10;MtlItem currentEntity = input.getId() == null ? null : repository.selectById(input.getId());&#10;if (currentEntity == null) {&#10;    isInsert = true;&#10;    // 书写创建时生成的字段&#10;    currentEntity = new MtlItem();&#10;    currentEntity.setCreateId(loginUser.getUser().getId());&#10;    currentEntity.setCreateDate(new Date(System.currentTimeMillis()));&#10;    //currentEntity.setOrgId(loginUser.getUser().getOrgId()); // MybatisPlusConfig 中有配置&#10;} else {&#10;    // DNT&#10;}&#10;currentEntity.setLastUpdateDate(new Date(System.currentTimeMillis()));&#10;currentEntity.setLastUpdateId(loginUser.getUser().getId());&#10;// 书写允许更新的字段&#10;currentEntity.setField(input.getField());&#10;//  Cause: java.sql.SQLException: 无效的列类型: 1111 当使用updateById插入时&#10;int cnt = isInsert ? repository.insert(currentEntity) : repository.updateById(currentEntity);&#10;if (cnt != 1) {&#10;    throw new FriendlyException(&quot;保存失败&quot;);&#10;}&#10;// 已更新&#10;return currentEntity.getId();" description="保存逻辑(新增+更新)" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="JAVA_CODE" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
    </context>
  </template>
  <template name="toDto" value="$DtoType$ dto = new $DtoType$();&#10;// 拷贝当前入参中所有与DTO匹配的字段&#10;org.springframework.beans.BeanUtils.copyProperties($inputOrDto$, dto);" description="input / bean -&gt; dto" toReformat="false" toShortenFQNames="true">
    <variable name="DtoType" expression="" defaultValue="Target" alwaysStopAt="true" />
    <variable name="inputOrDto" expression="" defaultValue="Origin" alwaysStopAt="true" />
    <context>
      <option name="JAVA_CODE" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
    </context>
  </template>
  <template name="OPTIONS" value="@RequestMapping(method = RequestMethod.OPTIONS)" description="OPTIONS注解(一般不会用上)" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="JAVA_CODE" value="true" />
      <option name="JAVA_SCRIPT" value="true" />
    </context>
  </template>
</templateSet>